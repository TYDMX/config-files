function main(config) {
    if (config["proxy-providers"]) {
        for (let æœºåœºå in config["proxy-providers"]) {
            let åŸè®¢é˜… = config["proxy-providers"][æœºåœºå];
            if (åŸè®¢é˜….url) {
                config["proxy-providers"][æœºåœºå] = 
                    {...åŸè®¢é˜…,
                    "type": "http",
                    "url": åŸè®¢é˜….url,
                    //"interval": 648000,
                    "tfo": true,
                    "exclude-type": "http|ss",
                    "path": `./proxies/${æœºåœºå}.yaml`,
                    "health-check": { "enable": true, "url": "https://cp.cloudflare.com/generate_204", "interval": 21600, "consecutive-failures": 2, "lazy": true, "method": "HEAD", "timeout": 5000 },
                    "smux": { "enabled": true, "padding": true, "protocol": "smux4", "max-connections": 8, "max-streams": 64, "min-streams": 4, "statistic": false, "only-tcp": true, },
                };
            }
        }
    }

    // --- ã€1. å…¨å±€åŸºç¡€é…ç½®ã€‘ ---
    config["collect-data"] = false;
    config["port"] = 7890;
    config["socks-port"] = 7891;
    config["mixed-port"] = 7893;
    config["tproxy-port"] = 7894;
    config["ipv6"] = true;
    config["allow-lan"] = false;
    config["unified-delay"] = true;
    config["tcp-concurrent"] = true;
    config["external-controller"] = "127.0.0.1:9090";
    config["secret"] = "12345678";
    config["find-process-mode"] = "strict";
    config["disable-keep-alive"] = true;
    config["keep-alive-interval"] = 75;
    config["keep-alive-idle"] = 120;
    config["keep-alive-probes"] = 5;
    config["profile"] = { 
        "store-selected": true, 
        "store-fake-ip": true
    };
    config["experimental"] = {
        "quic-go-disable-gso": true
    };

    // --- ã€2. æµé‡å—…æ¢ (Sniffer)ã€‘ ---
    config["sniffer"] = {
        "enable": true,
        "force-dns-mapping": true,
        "parse-pure-ip": true,
        "sniff": {
            "HTTP": { "ports": [80, "8080-8880"], "override-destination": true },
            "TLS": { "ports": [443, 5228, 8443] },
            "QUIC": { "ports": [443, 5228, 8443] }
        },
        "force-domain": ["+.v2ex.com"],
        "skip-domain": ["+.push.apple.com", "Mijia Cloud"],
        "skip-src-address": ["192.168.0.3/32"],
        "skip-dst-address": ["192.168.0.3/32"]
    };

    // --- ã€3. TUN æ¨¡å¼é…ç½®ã€‘ ---
    config["tun"] = {
        "enable": true,
        "stack": "mixed",
        "dns-hijack": ["any:53", "tcp://any:53"],
        "auto-route": true,
        "auto-detect-interface": true,
        "strict-route": true,
        "mtu": 1400,
        "gso": true,
        "gso-max-size": 65536,
        "udp-timeout": 300
    };

    // --- ã€4. DNS æ¨¡å¼é…ç½®ã€‘ ---
    const è°·æ­ŒIP = ["8.8.8.8","8.8.4.4","2001:4860:4860::8888", "2001:4860:4860::8844"];
    const è°·æ­ŒDOT = ["tls://8.8.8.8"];
    const è°·æ­ŒDOH = ["https://dns.google/dns-query", "https://8.8.8.8/dns-query"];
    const è°·æ­ŒQUIC = ["quic://dns.google", "quic://8.8.8.8"];
    const cloudflare_IP = ["1.1.1.1","1.0.0.1", "2606:4700:4700::1111", "2606:4700:4700::1001"];
    const cloudflare_DOT = ["tls://1.1.1.1"];
    const cloudflare_DOH = ["https://cloudflare-dns.com/dns-query", "https://1.1.1.1/dns-query"];
    const é˜¿é‡ŒIP = ["223.5.5.5", "223.6.6.6", "2400:3200::1", "2400:3200:baba::1"];
    const é˜¿é‡ŒDOT = ["tls://223.5.5.5", "tls://223.6.6.6"];
    const é˜¿é‡ŒDOH = ["https://dns.alidns.com/dns-query", "https://223.5.5.5/dns-query"];
    const é˜¿é‡ŒQUIC = ["quic://dns.alidns.com", "quic://223.5.5.5"];
    const è…¾è®¯IP = ["119.29.29.29", "182.254.116.116", "2402:4e00::", "2402:4e00:1::"];
    const è…¾è®¯DOT = ["tls://119.29.29.29", "tls://182.254.116.116"];
    const è…¾è®¯DOH = ["https://doh.pub/dns-query", "https://119.29.29.29/dns-query"];
    const è…¾è®¯QUIC = ["quic://dot.pub", "quic://119.29.29.29"];
    const DNSå›½å¤– = [...è°·æ­ŒQUIC, ...è°·æ­ŒDOH,...cloudflare_DOH];
    
    config["dns"] = {
        "enable": true,
        "cache-algorithm": "arc",
        "use-hosts": true,
        "use-system-hosts": false,
        "listen": "127.0.0.1:1053",
        "ipv6": true,
        "prefer-h3": true,
        "respect-rules": true,
        "enhanced-mode": "fake-ip",
        "fake-ip-range": "198.18.0.1/16",
        "fake-ip-range6": "fdfe:dcba:9876::/64",
        "fake-ip-filter-mode": "blacklist",
        "fake-ip-filter": [
            "rule-set:è‡ªç”¨fake-ip-filter",
            "geosite:private",
            "geosite:connectivity-check"
        ],
        "lookup-strategy": "fastest-ip",
        "hosts": {
            "dns.google": [...è°·æ­ŒIP],
            "dns.cloudflare.com": [...cloudflare_IP],
            "dns.alidns.com": [...é˜¿é‡ŒIP],
            "doh.pub": [...è…¾è®¯IP],
            "dot.pub": [...è…¾è®¯IP],
            "pub": [...è…¾è®¯IP]
        },
        "default-nameserver": [...é˜¿é‡ŒIP],
        "proxy-server-nameserver": [...é˜¿é‡ŒDOT, ...è°·æ­ŒDOT, ...cloudflare_DOT],
        "direct-nameserver": [...é˜¿é‡ŒIP, ...é˜¿é‡ŒQUIC, ...é˜¿é‡ŒDOH, ...è…¾è®¯IP, ...è…¾è®¯QUIC, ...è…¾è®¯DOH],
        "nameserver-policy": {
            "geosite:gfw": DNSå›½å¤–,
            "geosite:geolocation-!cn": DNSå›½å¤–
        },
        "nameserver": DNSå›½å¤–
    };

    // --- ã€5. åœ°ç†æ•°æ®ä¸ Smart æ¨¡å‹ã€‘ ---
    config["geox-url"] = {
        "geosite": "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat",
        "mmdb": "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.metadb",
        "geoip": "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.dat",
        "asn": "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/GeoLite2-ASN.mmdb"
    };
    config["geo-auto-update"] = true;
    config["geo-update-interval"] = 168;
    config["lgbm-auto-update"] = true;
    config["lgbm-update-interval"] = 72;
    config["lgbm-url"] = "https://v6.gh-proxy.com/https://github.com/vernesong/mihomo/releases/download/LightGBM-Model/Model-large.bin";

    const å›¾æ ‡åº“ = "https://git.imee.me/https://github.com/Koolson/Qure/raw/master/IconSet/Color/";
    const å…¨éƒ¨è®¢é˜… = Object.keys(config["proxy-providers"] || {});
    const èŠ‚ç‚¹é€‰æ‹© = ["ğŸš€ æ•…éšœè½¬ç§»", "ğŸ‡­ğŸ‡° é¦™æ¸¯æ•…è½¬", "ğŸ‡¸ğŸ‡¬ ç‹®åŸæ•…è½¬", "ğŸ‡ºğŸ‡¸ ç¾å›½æ•…è½¬", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬æ•…è½¬", "ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹", "ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹", "ğŸ‡ªğŸ‡º æ¬§ç›ŸèŠ‚ç‚¹", "ğŸŒ å†·é—¨è‡ªé€‰", "ğŸŒ å…¨éƒ¨èŠ‚ç‚¹", "ğŸ¯ å…¨çƒç›´è¿"];
    const æ•…è½¬èŠ‚ç‚¹ = ["ğŸ‡­ğŸ‡° é¦™æ¸¯æ•…è½¬", "ğŸ‡ºğŸ‡¸ ç¾å›½æ•…è½¬", "ğŸ‡¸ğŸ‡¬ ç‹®åŸæ•…è½¬", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬æ•…è½¬", "ğŸŒ å…¨éƒ¨èŠ‚ç‚¹", "ğŸ¯ å…¨çƒç›´è¿"];
    const é»˜è®¤ç›´è¿ = ["ğŸ¯ å…¨çƒç›´è¿", "ğŸ‡­ğŸ‡° é¦™æ¸¯æ•…è½¬", "ğŸ‡¸ğŸ‡¬ ç‹®åŸæ•…è½¬", "ğŸ‡ºğŸ‡¸ ç¾å›½æ•…è½¬", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬æ•…è½¬", "ğŸŒ å…¨éƒ¨èŠ‚ç‚¹"];
    const é¦™æ¸¯æ•…è½¬ = ["ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡­ğŸ‡° é¦™æ¸¯è‡ªåŠ¨", "ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹", "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹", "ğŸ‡ªğŸ‡º æ¬§ç›ŸèŠ‚ç‚¹"];
    const ç‹®åŸæ•…è½¬ = ["ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹", "ğŸ‡¸ğŸ‡¬ ç‹®åŸè‡ªåŠ¨", "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹", "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹", "ğŸ‡ªğŸ‡º æ¬§ç›ŸèŠ‚ç‚¹"];
    const ç¾å›½æ•…è½¬ = ["ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹", "ğŸ‡ºğŸ‡¸ ç¾å›½è‡ªåŠ¨", "ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹", "ğŸ‡ªğŸ‡º æ¬§ç›ŸèŠ‚ç‚¹", "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹"];
    const æ—¥æœ¬æ•…è½¬ = ["ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬è‡ªåŠ¨", "ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹", "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹", "ğŸ‡ªğŸ‡º æ¬§ç›ŸèŠ‚ç‚¹", "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹"];

    config["proxy-groups"] = [
        { name: "ğŸš€ èŠ‚ç‚¹é€‰æ‹©", type: "select", proxies: èŠ‚ç‚¹é€‰æ‹©, icon: å›¾æ ‡åº“ + "Static.png" },
        { name: "ğŸš€ æ•…éšœè½¬ç§»", type: "select", proxies: æ•…è½¬èŠ‚ç‚¹, icon: å›¾æ ‡åº“ + "ULB.png" },
        { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯æ•…è½¬", type: "fallback", proxies: é¦™æ¸¯æ•…è½¬, hidden: true, interval: 333, lazy: true },
        { name: "ğŸ‡¸ğŸ‡¬ ç‹®åŸæ•…è½¬", type: "fallback", proxies: ç‹®åŸæ•…è½¬, hidden: true, interval: 333, lazy: true },
        { name: "ğŸ‡ºğŸ‡¸ ç¾å›½æ•…è½¬", type: "fallback", proxies: ç¾å›½æ•…è½¬, hidden: true, interval: 333, lazy: true },
        { name: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬æ•…è½¬", type: "fallback", proxies: æ—¥æœ¬æ•…è½¬, hidden: true, interval: 333, lazy: true },

        { name: "ğŸ“¹ è§†é¢‘å¹³å°", type: "select", proxies: æ•…è½¬èŠ‚ç‚¹, icon: å›¾æ ‡åº“ + "YouTube.png" },
        { name: "ğŸ“² ç¤¾äº¤å¹³å°", type: "select", proxies: æ•…è½¬èŠ‚ç‚¹, icon: å›¾æ ‡åº“ + "Twitter.png" },
        { name: "ğŸ“² ç”µæŠ¥é£æœº", type: "select", proxies: èŠ‚ç‚¹é€‰æ‹©, icon: å›¾æ ‡åº“ + "Telegram_X.png" },
        { name: "ğŸ¤– AI", type: "select", proxies: æ•…è½¬èŠ‚ç‚¹, icon: å›¾æ ‡åº“ + "ChatGPT.png" },
        { name: "ğŸ® game", type: "select", proxies: æ•…è½¬èŠ‚ç‚¹, icon: å›¾æ ‡åº“ + "Game.png" },
        { name: "ğŸªŸ Microsoft", type: "select", proxies: é»˜è®¤ç›´è¿, icon: å›¾æ ‡åº“ + "Microsoft.png" },
        { name: "ğŸ‡¬ è°·æ­Œ", type: "select", proxies: æ•…è½¬èŠ‚ç‚¹, icon: å›¾æ ‡åº“ + "Google_Search.png" },

        { name: "ğŸ‘¨ğŸ¿â€ğŸ’» GitHub", type: "load-balance", strategy: "round-robin", proxies: ["ğŸš€ æ•…éšœè½¬ç§»"], icon: å›¾æ ‡åº“ + "GitHub.png", interval: 90, hidden: true },
        //{ name: "ğŸ’¶ PayPal", type: "load-balance", strategy: "round-robin", proxies: ["ğŸš€ æ•…éšœè½¬ç§»"], icon: å›¾æ ‡åº“ + "PayPal.png", interval: 90, hidden: true },
        //{ name: "ğŸ Apple", type: "load-balance", strategy: "round-robin", proxies: ["ğŸ¯ å…¨çƒç›´è¿"], icon: å›¾æ ‡åº“ + "Apple.png", interval: 90, hidden: true },
        { name: "ğŸªœ ä»£ç†åŸŸå", type: "load-balance", strategy: "round-robin", proxies: ["ğŸš€ èŠ‚ç‚¹é€‰æ‹©"], hidden: true },
        { name: "ğŸŒ è‡ªç”¨ä»£ç†", type: "load-balance", strategy: "round-robin", proxies: ["ğŸš€ èŠ‚ç‚¹é€‰æ‹©"], hidden: true },
        { name: "â¬†ï¸ è‡ªç”¨ç›´è¿", type: "load-balance", strategy: "round-robin", proxies: ["ğŸ¯ å…¨çƒç›´è¿"], hidden: true },
        { name: "â¬†ï¸ ç›´è¿åŸŸå", type: "load-balance", strategy: "round-robin", proxies: ["ğŸ¯ å…¨çƒç›´è¿"], hidden: true },
        { name: "ğŸ”’ ç§æœ‰ç½‘ç»œ", type: "load-balance", strategy: "round-robin", proxies: ["ğŸ¯ å…¨çƒç›´è¿"], hidden: true },
        { name: "ğŸ“ˆ æµ‹é€Ÿåœ°å€", type: "load-balance", strategy: "round-robin", use: å…¨éƒ¨è®¢é˜…, proxies: ["ğŸ¯ å…¨çƒç›´è¿"], hidden: true, icon: å›¾æ ‡åº“ + "Speedtest.png" },
        { name: "ğŸ–¥ï¸ ç›´è¿è½¯ä»¶", type: "load-balance", strategy: "round-robin", proxies: ["ğŸ¯ å…¨çƒç›´è¿"], hidden: true },
        { name: "ğŸ–¥ï¸ ç›´è¿æœåŠ¡", type: "load-balance", strategy: "round-robin", proxies: ["ğŸ¯ å…¨çƒç›´è¿"], hidden: true },
        { name: "ğŸ–¥ï¸ ä»£ç†è½¯ä»¶", type: "load-balance", strategy: "round-robin", proxies: ["ğŸš€ æ•…éšœè½¬ç§»"], hidden: true },
        { name: "ğŸ–¥ï¸ ä»£ç†æœåŠ¡", type: "load-balance", strategy: "round-robin", proxies: ["ğŸš€ æ•…éšœè½¬ç§»"], hidden: true },
        { name: "ğŸš« å¹¿å‘Šæ‹¦æˆª", type: "load-balance", strategy: "round-robin", proxies: ["ğŸš« é˜»æ­¢"], hidden: true },
        { name: "ğŸš« è¿½è¸ªæ‹¦æˆª", type: "load-balance", strategy: "round-robin", proxies: ["ğŸš« é˜»æ­¢"], hidden: true },
        { name: "ğŸ® game@CN", type: "load-balance", strategy: "round-robin", proxies: ["ğŸ¯ å…¨çƒç›´è¿"], hidden: true },
        { name: "ğŸ‡¬ è°·æ­Œ@CN", type: "load-balance", strategy: "round-robin", proxies: ["ğŸ¯ å…¨çƒç›´è¿"], hidden: true },
        { name: "ğŸªŸ Bing", type: "load-balance", strategy: "round-robin", proxies: ["ğŸš€ èŠ‚ç‚¹é€‰æ‹©"], hidden: true },

        ...åˆ›å»ºåœ°åŒºåˆ†ç»„("ğŸ‡­ğŸ‡° é¦™æ¸¯", "Hong_Kong.png", '^(?=.*(?i)(æ¸¯|ğŸ‡­ğŸ‡°|HK|Hong|HKG))', '^(?=.*(?i)(æ¸¯|ğŸ‡­ğŸ‡°|HK|Hong|HKG))(?=.*ğŸ’§)(?!.*(?i)ä½)', å…¨éƒ¨è®¢é˜…),
        ...åˆ›å»ºåœ°åŒºåˆ†ç»„("ğŸ‡¸ğŸ‡¬ ç‹®åŸ", "Singapore.png", '^(?=.*(?i)(å¡|ğŸ‡¸ğŸ‡¬|SG|Sing|SIN|XSP))', '^(?=.*(?i)(å¡|ğŸ‡¸ğŸ‡¬|SG|Sing|SIN|XSP))(?=.*ğŸ’§)', å…¨éƒ¨è®¢é˜…),
        ...åˆ›å»ºåœ°åŒºåˆ†ç»„("ğŸ‡ºğŸ‡¸ ç¾å›½", "United_States.png", '^(?=.*(?i)(ç¾|ğŸ‡ºğŸ‡¸|US|USA|JFK|LAX|ORD|ATL|DFW|SFO|MIA|SEA|IAD))', '^(?=.*(?i)(ç¾|ğŸ‡ºğŸ‡¸|US|USA|JFK|LAX|ORD|ATL|DFW|SFO|MIA|SEA|IAD))(?!.*ğŸ’§)', å…¨éƒ¨è®¢é˜…),
        ...åˆ›å»ºåœ°åŒºåˆ†ç»„("ğŸ‡¯ğŸ‡µ æ—¥æœ¬", "Japan.png", '^(?=.*(?i)(æ—¥|ğŸ‡¯ğŸ‡µ|JP|Japan|NRT|HND|KIX|CTS|FUK))', '^(?=.*(?i)(æ—¥|ğŸ‡¯ğŸ‡µ|JP|Japan|NRT|HND|KIX|CTS|FUK))(?=.*ğŸ’§)', å…¨éƒ¨è®¢é˜…),
        ...åˆ›å»ºåœ°åŒºåˆ†ç»„("ğŸ‡¹ğŸ‡¼ å°æ¹¾", "Taiwan.png", '^(?=.*(?i)(å°|ğŸ‡¹ğŸ‡¼|TW|tai|TPE|TSA|KHH))', '^(?=.*(?i)(å°|ğŸ‡¹ğŸ‡¼|TW|tai|TPE|TSA|KHH))', å…¨éƒ¨è®¢é˜…),
        ...åˆ›å»ºåœ°åŒºåˆ†ç»„("ğŸ‡°ğŸ‡· éŸ©å›½", "Korea.png", '^(?=.*(?i)(éŸ©|ğŸ‡°ğŸ‡·|éŸ“|é¦–å°”|å—æœé²œ|KR|KOR|Korea|South))', '^(?=.*(?i)(éŸ©|ğŸ‡°ğŸ‡·|éŸ“|é¦–å°”|å—æœé²œ|KR|KOR|Korea|South))', å…¨éƒ¨è®¢é˜…),
        ...åˆ›å»ºåœ°åŒºåˆ†ç»„("ğŸ‡ªğŸ‡º æ¬§ç›Ÿ", "European_Union.png", '^(?=.*(?i)(å¥¥|æ¯”|ä¿|å…‹ç½—åœ°äºš|å¡|æ·|ä¸¹|çˆ±æ²™|èŠ¬|æ³•|å¾·|å¸Œ|åŒˆ|çˆ±å°”|æ„|æ‹‰|ç«‹|å¢|é©¬å…¶å®ƒ|è·|æ³¢|è‘¡|ç½—|æ–¯æ´›ä¼|æ–¯æ´›æ–‡|è¥¿|ç‘|è‹±|ğŸ‡§ğŸ‡ª|ğŸ‡¨ğŸ‡¿|ğŸ‡©ğŸ‡°|ğŸ‡«ğŸ‡®|ğŸ‡«ğŸ‡·|ğŸ‡©ğŸ‡ª|ğŸ‡®ğŸ‡ª|ğŸ‡®ğŸ‡¹|ğŸ‡±ğŸ‡¹|ğŸ‡±ğŸ‡º|ğŸ‡³ğŸ‡±|ğŸ‡µğŸ‡±|ğŸ‡¸ğŸ‡ª|ğŸ‡¬ğŸ‡§|CDG|FRA|AMS|MAD|BCN|FCO|MUC|BRU|GB|FR|DE|NL|RU|LV|SE|LT|AU|NZ))', '^(?=.*(?i)(å¥¥|æ¯”|ä¿|å…‹ç½—åœ°äºš|å¡|æ·|ä¸¹|çˆ±æ²™|èŠ¬|æ³•|å¾·|å¸Œ|åŒˆ|çˆ±å°”|æ„|æ‹‰|ç«‹|å¢|é©¬å…¶å®ƒ|è·|æ³¢|è‘¡|ç½—|æ–¯æ´›ä¼|æ–¯æ´›æ–‡|è¥¿|ç‘|è‹±|ğŸ‡§ğŸ‡ª|ğŸ‡¨ğŸ‡¿|ğŸ‡©ğŸ‡°|ğŸ‡«ğŸ‡®|ğŸ‡«ğŸ‡·|ğŸ‡©ğŸ‡ª|ğŸ‡®ğŸ‡ª|ğŸ‡®ğŸ‡¹|ğŸ‡±ğŸ‡¹|ğŸ‡±ğŸ‡º|ğŸ‡³ğŸ‡±|ğŸ‡µğŸ‡±|ğŸ‡¸ğŸ‡ª|ğŸ‡¬ğŸ‡§|CDG|FRA|AMS|MAD|BCN|FCO|MUC|BRU|GB|FR|DE|NL|RU|LV|SE|LT|AU|NZ))(?!.*ğŸ’§)', å…¨éƒ¨è®¢é˜…),

        { name: "ğŸŒ å†·é—¨è‡ªé€‰", type: "select", use: å…¨éƒ¨è®¢é˜…, filter: '^(?!.*(?i)(DIRECT|ali|china|tencent|ç»´æŠ¤|å¯ç”¨|ç›´è¿|é˜»æ­¢|ç¾|æ¸¯|å¡|å°|æ–°|æ—¥|éŸ©|å¥¥|æ¯”|ä¿|å…‹ç½—åœ°äºš|å¡|æ·|ä¸¹|çˆ±æ²™|èŠ¬|æ³•|å¾·|å¸Œ|åŒˆ|çˆ±å°”|æ„|æ‹‰|ç«‹|å¢|é©¬å…¶å®ƒ|è·|æ³¢|è‘¡|ç½—|æ–¯æ´›ä¼|æ–¯æ´›æ–‡|è¥¿|ç‘|è‹±|ğŸ‡­ğŸ‡°|ğŸ‡¹ğŸ‡¼|ğŸ‡¸ğŸ‡¬|ğŸ‡¯ğŸ‡µ|ğŸ‡°ğŸ‡·|ğŸ‡ºğŸ‡¸|ğŸ‡¬ğŸ‡§|ğŸ‡¦ğŸ‡¹|ğŸ‡§ğŸ‡ª|ğŸ‡¨ğŸ‡¿|ğŸ‡©ğŸ‡°|ğŸ‡«ğŸ‡®|ğŸ‡«ğŸ‡·|ğŸ‡©ğŸ‡ª|ğŸ‡®ğŸ‡ª|ğŸ‡®ğŸ‡¹|ğŸ‡±ğŸ‡¹|ğŸ‡±ğŸ‡º|ğŸ‡³ğŸ‡±|ğŸ‡µğŸ‡±|ğŸ‡¸ğŸ‡ª|HK|TW|SG|JP|KR|US|CDG|FRA|AMS|MAD|BCN|FCO|MUC|BRU|HKG|TPE|TSA|KHH|SIN|XSP|NRT|HND|KIX|CTS|FUK|JFK|LAX|ORD|ATL|DFW|SFO|MIA|SEA|IAD|LHR|LGW|GB|FR|DE|NL|RU|LV|SE|LT|AU|NZ))', proxies: ["ğŸˆšï¸ å‡èŠ‚ç‚¹"], icon: å›¾æ ‡åº“ + "Europe_Map.png" },
        { name: "ğŸŒ å…¨éƒ¨èŠ‚ç‚¹", type: "select", use: å…¨éƒ¨è®¢é˜…, filter: '^(?!.*(?i)(DIRECT|ali|china))', proxies: ["ğŸˆšï¸ å‡èŠ‚ç‚¹"], icon: å›¾æ ‡åº“ + "Clubhouse.png" },
        { name: "ğŸŸ æ¼ç½‘ä¹‹é±¼", type: "select", proxies: ["ğŸš€ èŠ‚ç‚¹é€‰æ‹©", "ğŸ¯ å…¨çƒç›´è¿"], icon: å›¾æ ‡åº“ + "Final.png" }
    ];

    config["proxies"] = [
        { name: "ğŸ¯ å…¨çƒç›´è¿", type: "direct", udp: true },
        { name: "ğŸˆšï¸ å‡èŠ‚ç‚¹", type: "reject" },
        { name: "ğŸš« é˜»æ­¢", type: "reject" }
    ];

    const ip_mrs = { type: "http", interval: 86400, behavior: "ipcidr", format: "mrs" };
    const classical_text = { type: "http", interval: 86400, behavior: "classical", format: "text" };
    const classical_yaml = { type: "http", interval: 86400, behavior: "classical", format: "yaml" };
    const domain_mrs = { type: "http", interval: 86400, behavior: "domain", format: "mrs" };
    const domain_yaml = { type: "http", interval: 86400, behavior: "domain", format: "yaml" };
    const domain_text = { type: "http", interval: 86400, behavior: "domain", format: "text" };

    config["rule-providers"] = {
        "è‡ªç”¨ç›´è¿è§„åˆ™": { ...classical_text, url: "https://raw.githubusercontent.com/TYDMX/config-files/refs/heads/main/1/ç›´è¿è§„åˆ™" },
        "è‡ªç”¨ä»£ç†è§„åˆ™": { ...classical_text, url: "https://raw.githubusercontent.com/TYDMX/config-files/refs/heads/main/1/ä»£ç†è§„åˆ™" },
        "è‡ªç”¨ç›´è¿è½¯ä»¶": { ...classical_text, url: "https://raw.githubusercontent.com/TYDMX/config-files/refs/heads/main/1/ç›´è¿è½¯ä»¶" },
        "è‡ªç”¨ä»£ç†è½¯ä»¶": { ...classical_text, url: "https://raw.githubusercontent.com/TYDMX/config-files/refs/heads/main/1/ä»£ç†è½¯ä»¶" },
        "å‰ç½®ç›´è¿è§„åˆ™": { ...classical_text, url: "https://raw.githubusercontent.com/TYDMX/config-files/refs/heads/main/1/å‰ç½®ç›´è¿è§„åˆ™" },
        "è‡ªç”¨fake-ip-filter": { ...domain_text, url: "https://raw.githubusercontent.com/TYDMX/config-files/refs/heads/main/2/fkip.list" }
    };

    config["rules"] = [
        "OR,((GEOSITE,private),(GEOIP,private)),ğŸ”’ ç§æœ‰ç½‘ç»œ",
        "rule-set,å‰ç½®ç›´è¿è§„åˆ™,ğŸ–¥ï¸ ç›´è¿è½¯ä»¶",
        "OR,((GEOSITE,tracker),(GEOSITE,category-public-tracker)),ğŸš« è¿½è¸ªæ‹¦æˆª",
        "OR,((GEOSITE,category-ads-all),(GEOIP,ad)),ğŸš« å¹¿å‘Šæ‹¦æˆª",
        //"PROCESS-NAME,com.samsung.android.packageinstaller,ğŸš« å¹¿å‘Šæ‹¦æˆª",
        //"PROCESS-NAME,com.google.android.googlequicksearchbox,ğŸ¤– AI",
        "RULE-SET,è‡ªç”¨ä»£ç†è§„åˆ™,ğŸŒ è‡ªç”¨ä»£ç†",
        "RULE-SET,è‡ªç”¨ç›´è¿è§„åˆ™,â¬†ï¸ è‡ªç”¨ç›´è¿",
        "RULE-SET,è‡ªç”¨ä»£ç†è½¯ä»¶,ğŸ–¥ï¸ ä»£ç†è½¯ä»¶",
        "RULE-SET,è‡ªç”¨ç›´è¿è½¯ä»¶,ğŸ–¥ï¸ ç›´è¿è½¯ä»¶",
        "GEOSITE,ookla-speedtest,ğŸ“ˆ æµ‹é€Ÿåœ°å€",
        //"GEOSITE,apple,ğŸ Apple",
        "GEOSITE,category-games-cn,ğŸ® game@CN",
        "GEOSITE,googlefcm,ğŸ‡¬ è°·æ­Œ@CN",

        "GEOSITE,category-games-!cn,ğŸ® game",
        "OR,((GEOSITE,openai),(GEOSITE,google-gemini),(GEOSITE,category-ai-!cn)),ğŸ¤– AI",
        "GEOSITE,spotify,ğŸ‡¯ğŸ‡µ æ—¥æœ¬æ•…è½¬",
        //"GEOSITE,paypal,ğŸ’¶ PayPal",
        "GEOSITE,github,ğŸ‘¨ğŸ¿â€ğŸ’» GitHub",
        "GEOSITE,bing,ğŸªŸ Bing",
        "OR,((GEOSITE,twitter),(GEOSITE,tiktok),(GEOSITE,Reddit),(GEOSITE,discord)),ğŸ“² ç¤¾äº¤å¹³å°",
        "OR,((GEOSITE,telegram),(GEOIP,telegram)),ğŸ“² ç”µæŠ¥é£æœº",
        "OR,((GEOSITE,youtube),(GEOSITE,netflix),(GEOSITE,onedrive),(GEOSITE,twitch),(GEOSITE,vk),(GEOSITE,disney),(GEOSITE,biliintl),(GEOSITE,category-porn)),ğŸ“¹ è§†é¢‘å¹³å°",
        "GEOSITE,microsoft,ğŸªŸ Microsoft",
        "OR,((GEOSITE,google),(GEOIP,google)),ğŸ‡¬ è°·æ­Œ",
        "OR,((GEOSITE,cloudflare),(GEOIP,cloudflare),(GEOIP,cloudfront)),ğŸ–¥ï¸ ä»£ç†æœåŠ¡",
        "GEOSITE,gfw,ğŸªœ ä»£ç†åŸŸå",
        "GEOSITE,geolocation-!cn,ğŸªœ ä»£ç†åŸŸå",
        "OR,((GEOSITE,cn),(GEOIP,cn)),â¬†ï¸ ç›´è¿åŸŸå",
        "MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼"
    ];

    function åˆ›å»ºåœ°åŒºåˆ†ç»„(åœ°åŒºå, åœ°åŒºå›¾æ ‡, åœ°åŒºèŠ‚ç‚¹æ± , åœ°åŒºè‡ªåŠ¨é€‰æ‹©, åœ°åŒºæœºåœºç»„) {
        return [
            { name: `${åœ°åŒºå}èŠ‚ç‚¹`, type: "select", use: åœ°åŒºæœºåœºç»„, filter: åœ°åŒºèŠ‚ç‚¹æ± , proxies: [`${åœ°åŒºå}è‡ªåŠ¨`, `${åœ°åŒºå}å‡è¡¡-æ•£åˆ—`, `${åœ°åŒºå}å‡è¡¡-è½®è¯¢`, "ğŸˆšï¸ å‡èŠ‚ç‚¹"], icon: å›¾æ ‡åº“ + åœ°åŒºå›¾æ ‡ },
            { name: `${åœ°åŒºå}è‡ªåŠ¨`, type: "url-test", use: åœ°åŒºæœºåœºç»„, filter: åœ°åŒºè‡ªåŠ¨é€‰æ‹©, interval: 333, tolerance: 5, hidden: true, icon: å›¾æ ‡åº“ + åœ°åŒºå›¾æ ‡ },
            { name: `${åœ°åŒºå}å‡è¡¡-æ•£åˆ—`, type: "load-balance", strategy: "consistent-hashing", use: åœ°åŒºæœºåœºç»„, filter: åœ°åŒºè‡ªåŠ¨é€‰æ‹©, interval: 366, hidden: true, icon: å›¾æ ‡åº“ + åœ°åŒºå›¾æ ‡ },
            { name: `${åœ°åŒºå}å‡è¡¡-è½®è¯¢`, type: "load-balance", strategy: "round-robin", use: åœ°åŒºæœºåœºç»„, filter: åœ°åŒºè‡ªåŠ¨é€‰æ‹©, interval: 90, hidden: true, icon: å›¾æ ‡åº“ + åœ°åŒºå›¾æ ‡ }
        ];
    }
    
    return config;
}
